(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{13:function(e,t,o){},14:function(e,t,o){"use strict";o.r(t);var c=o(1),n=o(6),a=o.n(n),r=o(2),i=o(0),s=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),o=t[0],n=t[1],a=function(){return n(!o)};return Object(c.useEffect)((function(){var e=document.querySelector("body");o?e.classList.add("lightmode"):e.classList.remove("lightmode")}),[o]),Object(i.jsxs)("div",{className:"heading",children:[Object(i.jsx)("h2",{className:"heading__title",children:"todo"}),Object(i.jsxs)("fieldset",{className:"colormodes",children:[Object(i.jsx)("legend",{className:"visually-hidden",children:"Color mode selections"}),Object(i.jsx)("input",{className:"colormodes__input",type:"radio",id:"darkmode",name:"colormode","aria-label":"darkmode",value:"darkmode",defaultChecked:!0,onChange:a}),Object(i.jsx)("label",{htmlFor:"darkmode",className:"colormodes__toggler"}),Object(i.jsx)("input",{className:"colormodes__input",type:"radio",id:"lightmode",name:"colormode","aria-label":"lightmode",onChange:a}),Object(i.jsx)("label",{htmlFor:"lightmode",className:"colormodes__toggler"}),Object(i.jsx)("div",{className:"colormodes__focus-trick"})]})]})},l=function(e){return JSON.parse(localStorage.getItem(e))},d=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},u=function(e){var t=l("todo");d("todo",e(t))},j=function(e){var t=Object(c.useState)(!1),o=Object(r.a)(t,2),n=o[0],a=o[1],s=Object(c.useState)(!1),j=Object(r.a)(s,2),m=j[0],f=j[1],b=Object(c.useState)(!1),O=Object(r.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(""),v=Object(r.a)(x,2),g=v[0],_=v[1],N=Object(c.useRef)();Object(c.useEffect)((function(){a(e.data.completed)}),[]),Object(c.useEffect)((function(){u((function(t){return t.find((function(t){return t.id===e.data.id})).completed=h?n:e.data.completed,t})),"All"!==e.from&&e.renderTodoList(),p(!0)}),[n]),Object(c.useEffect)((function(){m&&(u((function(t){return t.filter((function(t){return t.id!==e.data.id}))})),e.renderTodoList())}),[m]),Object(c.useEffect)((function(){if(g){g.classList.remove("enter");var t=Array.from(l("todo")),o=t.findIndex((function(t){return t.id===parseInt(e.currentDrag.current.dataset.id)})),c=t.findIndex((function(e){return e.id===parseInt(g.dataset.id)}));if(o>=0&&c>=0){var n=[t[c],t[o]];t[o]=n[0],t[c]=n[1]}d("todo",t),e.renderTodoList(),_("")}}),[g]);return Object(i.jsxs)("li",{className:"todo__item","data-id":e.data.id,draggable:!0,onDragStart:function(t){e.currentDrag.current=t.target,t.target.classList.add("drag"),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",t.target.innerHTML)},onDragEnter:function(e){e.target.classList.add("enter")},onDragOver:function(e){return e.preventDefault(),e.dataTransfer.dropEffect="move",!1},onDragLeave:function(e){e.target.classList.remove("enter")},onDrop:function(t){e.currentDrag.current!==t.target&&(_(t.target),t.target.classList.remove("enter"))},onDragEnd:function(e){e.target.classList.remove("drag")},children:[Object(i.jsx)("input",{className:"todo__check",type:"checkbox",id:"todo-".concat(e.data.id),onChange:function(e){p(!0),a(e.target.checked)},ref:N,checked:n}),Object(i.jsxs)("label",{className:"todo__label",htmlFor:"todo-".concat(e.data.id),children:[Object(i.jsx)("span",{className:"visually-hidden",children:"complete todo item"}),Object(i.jsx)("span",{children:e.data.todo})]}),Object(i.jsx)("button",{className:"todo__remove","aria-label":"remove ".concat(e.data.todo," todo item"),onClick:function(){f(!0),e.delete(e.data.todo)}})]})},m=o(7),f=function(e){var t=e.viewRef,o=e.renderTodoList,n=Object(c.useRef)(),a=Object(c.useState)({completed:!1,todo:"",id:""}),s=Object(r.a)(a,2),u=s[0],j=s[1];Object(c.useEffect)((function(){if(u.todo){var e=l("todo");d("todo",e?[].concat(Object(m.a)(e),[u]):[u]),t("All"),o(),n.current.textContent="Successfuly added todo item";var c=setTimeout((function(){return n.current.textContent=""}),200);return function(){return clearTimeout(c)}}}),[u]);return Object(i.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),e.target.todo.value&&(j({completed:!1,todo:e.target.todo.value,id:Date.now()}),e.target.todo.value="")},children:[Object(i.jsx)("div",{className:"form__holder",children:Object(i.jsx)("input",{type:"text",className:"form__todo",name:"todo",id:"todo",placeholder:"Create a new todo...","aria-label":"Create a new todoitem...",autoComplete:"off"})}),Object(i.jsx)("div",{ref:n,className:"visually-hidden","aria-live":"polite"})]})},b=function(){var e=Object(c.useState)("All"),t=Object(r.a)(e,2),o=t[0],n=t[1],a=Object(c.useState)([]),s=Object(r.a)(a,2),d=s[0],m=s[1],b=Object(c.useState)(!1),O=Object(r.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(""),v=Object(r.a)(x,2),g=v[0],_=v[1],N=Object(c.useRef)(),C=Object(c.useRef)(),S=Object(c.useRef)(),k=function(e){return n(e.target.textContent)},y=function(){return p(!0)},L=function(){var e=l("todo");if(e)switch(o){case"Active":m(e.filter((function(e){return!e.completed})));break;case"Completed":m(e.filter((function(e){return e.completed})));break;case"All":m(e)}};Object(c.useEffect)((function(){L(),S.current.textContent="showing ".concat(o," todo items");var e=setTimeout((function(){return S.current.textContent=""}),200);return function(){return clearTimeout(e)}}),[o]),Object(c.useEffect)((function(){h&&(u((function(e){return e.filter((function(e){return!e.completed}))})),L(),p(!1))}),[h]),Object(c.useEffect)((function(){if(g){C.current.textContent="".concat(g," successfuly removed. ").concat(d.length-1," items remaining");var e=setTimeout((function(){return C.current.textContent=""}),200);return function(){return clearTimeout(e)}}}),[g]);var T=function(e){return _(e)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f,{renderTodoList:L,viewRef:n}),Object(i.jsxs)("div",{className:"todo",children:[Object(i.jsx)("div",{ref:C,className:"visually-hidden","aria-live":"polite"}),Object(i.jsxs)("div",{className:"todo__container",children:[Object(i.jsx)("ul",{className:"todo__items",children:d.map((function(e){return Object(i.jsx)(j,{data:e,renderTodoList:L,currentDrag:N,from:o,delete:T},e.id)}))}),Object(i.jsxs)("div",{className:"todo__remaining",children:[Object(i.jsxs)("span",{children:[d.length," items left"]}),Object(i.jsx)("button",{onClick:y,"aria-label":"clear all completed todo item",children:"Clear Completed"})]})]}),Object(i.jsx)("div",{ref:S,"aria-live":"polite",className:"visually-hidden"}),Object(i.jsxs)("ul",{className:"todo__options",children:[Object(i.jsx)("li",{className:"todo__option",children:Object(i.jsxs)("span",{children:[d.length," items left"]})}),Object(i.jsx)("li",{className:"All"===o?"todo__option selected":"todo__option",children:Object(i.jsx)("button",{onClick:k,"aria-label":"Show all todo items",children:"All"})}),Object(i.jsx)("li",{className:"Active"===o?"todo__option selected":"todo__option",children:Object(i.jsx)("button",{onClick:k,"aria-label":"Show all active todo items",children:"Active"})}),Object(i.jsx)("li",{className:"Completed"===o?"todo__option selected":"todo__option",children:Object(i.jsx)("button",{onClick:k,"aria-label":"Show all completed todo items",children:"Completed"})}),Object(i.jsx)("li",{className:"todo__option",children:Object(i.jsx)("button",{onClick:y,"aria-label":"clear all completed todo item",children:"Clear Completed"})})]}),Object(i.jsx)("div",{className:"todo__bottom-text",children:"Drag and drop to reorder list"})]})]})},O=function(){return Object(i.jsxs)("main",{children:[Object(i.jsx)("h1",{className:"visually-hidden",children:"Frontendmentor todo application"}),Object(i.jsx)(s,{}),Object(i.jsx)(b,{})]})};o(13);a.a.render(Object(i.jsx)(O,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5f890dd8.chunk.js.map